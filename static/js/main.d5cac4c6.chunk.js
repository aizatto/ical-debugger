(this["webpackJsonpical-debugger"]=this["webpackJsonpical-debugger"]||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},21:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(13),l=n.n(c),u=(n(21),n(8)),i=n.n(u),o=n(15),s=n(9),f=n(10),m=n(43),d=n(35),p=n(36),v=n(37),h=n(38),b=n(39),E=n(40),g=n(41),y=n(11),w=n.n(y),k=n(31),O=n(32),j=n(33),x=n(34),D=n(42),S=n(14),T=n.n(S),N=n(25);function A(){return(A=Object(f.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=Object(f.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,fetch(t.url);case 4:return a=e.sent,e.next=7,a.text();case 7:n=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.abrupt("return",{id:t.id,url:t.url,success:null!==n,text:n});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:r=e.sent,n(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(a.useState)((function(){try{return function(){var e=localStorage.getItem("calendars");if(!e)throw new Error("Does not exist");return JSON.parse(e)}().filter((function(e){return null!==e}))}catch(e){}return[{id:w()(),enabled:!1,url:""}]})),t=Object(s.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)([]),u=Object(s.a)(l,2),i=u[0],f=u[1],y=Object(a.useState)(k.a(new Date)),S=Object(s.a)(y,2),C=S[0],H=(S[1],Object(a.useState)(O.a(j.a(C,3)))),I=Object(s.a)(H,2),J=I[0];I[1];function M(e){var t=JSON.stringify(e);localStorage.setItem("calendars",t),c(e)}var R=n.map((function(e,t){var a=t===n.length-1,c=null;if(!a){c=r.a.createElement("span",{onClick:function(){var e=n.slice(0);delete e[t],M(e)}},"Delete")}return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(m.a,{type:"checkbox",defaultChecked:e.enabled,onChange:function(e){var a=n.slice(0);a[t].enabled=e.target.checked,M(a)}})),r.a.createElement("td",null,r.a.createElement(m.a,{required:!a,key:e.id,type:"url",defaultValue:e.url,placeholder:"https://",onChange:function(e){return function(e){var r=n.slice(0);a?r.push({id:w()(),enabled:!1,url:""}):r[t].url=e.target.value,M(r)}(e)}})),r.a.createElement("td",null,c))}));Object(a.useEffect)((function(){!function(e,t){A.apply(this,arguments)}(n.filter((function(e){return!0===e.enabled&&e.url.startsWith("http")})),f)}),[n]);var V=[];i.filter((function(e){return e.success})).map((function(e){var t=T.a.convert(e.text);V.push.apply(V,Object(o.a)(t.VCALENDAR[0].VEVENT.map((function(t){return{calendar:e.id,vevent:t}}))))}));for(var W=C,B=[],U=function(){var e=new Date(W),t=O.a(W),n=V.filter((function(n){var a=n.vevent;return x.a({start:e,end:t},{start:N(a.DTSTART),end:N(a.DTEND)})})).map((function(e){return e.vevent})),a=D.a(e,"yyyy-MM-dd"),c=n.map((function(e){var t=N(e.DTSTART),n=N(e.DTEND);return r.a.createElement(d.a,{key:"".concat(a,":").concat(e.UID)},r.a.createElement(p.a,null,r.a.createElement(v.a,null,e.SUMMARY),r.a.createElement(h.a,null,D.a(t,"HH:mm")," -",D.a(n,"HH:mm"))))}));B.push(r.a.createElement(b.a,{key:a},r.a.createElement("div",null,a),c)),W=j.a(W,1)};W.getTime()<J.getTime();)U();return r.a.createElement("div",{className:"App"},r.a.createElement(E.a,null,r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,R))),r.a.createElement(g.a,null,B))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.d5cac4c6.chunk.js.map