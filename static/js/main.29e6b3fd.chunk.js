(this["webpackJsonpical-debugger"]=this["webpackJsonpical-debugger"]||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},21:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(13),l=n.n(c),u=(n(21),n(8)),i=n.n(u),o=n(15),s=n(9),m=n(10),f=n(43),d=n(35),p=n(36),E=n(37),v=n(38),h=n(39),b=n(40),g=n(41),y=n(11),T=n.n(y),O=n(31),D=n(32),k=n(33),w=n(34),A=n(42),I=n(14),S=n.n(I),N=n(25);function j(){return(j=Object(m.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=Object(m.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,fetch(t.url);case 4:return a=e.sent,e.next=7,a.text();case 7:n=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.abrupt("return",{id:t.id,url:t.url,success:null!==n,text:n});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:r=e.sent,n(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e=Object(a.useState)((function(){try{return function(){var e=localStorage.getItem("calendars");if(!e)throw new Error("Does not exist");return JSON.parse(e)}().filter((function(e){return null!==e}))}catch(e){}return[{id:T()(),enabled:!1,url:""}]})),t=Object(s.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)([]),u=Object(s.a)(l,2),i=u[0],m=u[1],y=Object(a.useState)(O.a(new Date)),I=Object(s.a)(y,2),x=I[0],R=(I[1],Object(a.useState)(D.a(k.a(x,3)))),C=Object(s.a)(R,2),M=C[0];C[1];function V(e){var t=JSON.stringify(e);localStorage.setItem("calendars",t),c(e)}var H=n.map((function(e,t){var a=t===n.length-1,c=null;if(!a){c=r.a.createElement("span",{onClick:function(){var e=n.slice(0);delete e[t],V(e)}},"Delete")}return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(f.a,{type:"checkbox",defaultChecked:e.enabled,onChange:function(e){var a=n.slice(0);a[t].enabled=e.target.checked,V(a)}})),r.a.createElement("td",null,r.a.createElement(f.a,{required:!a,key:e.id,type:"url",defaultValue:e.url,placeholder:"https://",onChange:function(e){return function(e){var r=n.slice(0);a?r.push({id:T()(),enabled:!1,url:""}):r[t].url=e.target.value,V(r)}(e)}})),r.a.createElement("td",null,c))}));Object(a.useEffect)((function(){!function(e,t){j.apply(this,arguments)}(n.filter((function(e){return!0===e.enabled&&e.url.startsWith("http")})),m)}),[n]);var J=[];i.filter((function(e){return e.success})).map((function(e){var t=S.a.convert(e.text);J.push.apply(J,Object(o.a)(t.VCALENDAR[0].VEVENT.map((function(t){return{calendar:e.id,vevent:t}}))))}));for(var L=x,P=[],U=function(){var e=new Date(L),t=D.a(L),n=J.filter((function(n){var a=n.vevent;return w.a({start:e,end:t},{start:N(a.DTSTART),end:N(a.DTEND)})})).map((function(e){return e.vevent})),a=A.a(e,"yyyy-MM-dd"),c=n.map((function(e){var t=N(e.DTSTART),n=N(e.DTEND),c=e.DESCRIPTION?r.a.createElement("p",null,e.DESCRIPTION):null,l=(e.VALARM?e.VALARM:[]).map((function(t,n){return r.a.createElement("li",{key:"".concat(e.UID,":alarm:").concat(n)},"action: ",t.ACTION,r.a.createElement("p",null,t.DESCRIPTION),"Trigger: ",t["TRIGGER;VALUE=DATE-TIME"])}));return l=l?r.a.createElement("div",null,"Alarms:",r.a.createElement("ol",null,l)):null,r.a.createElement(d.a,{key:"".concat(a,":").concat(e.UID),className:"mb-1"},r.a.createElement(p.a,null,r.a.createElement(E.a,null,e.SUMMARY),r.a.createElement(v.a,null,A.a(t,"HH:mm")," -",A.a(n,"HH:mm")),c,l))}));P.push(r.a.createElement(h.a,{key:a},r.a.createElement("div",null,a," ",A.a(e,"iiii")),c)),L=k.a(L,1)};L.getTime()<M.getTime();)U();return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,null,r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,H))),r.a.createElement(g.a,null,P))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.29e6b3fd.chunk.js.map